spring:
  output.ansi.enabled: DETECT
  session.store-type: none
  data:
    mongodb:
      database: dcimporter
  rabbitmq:
    addresses: localhost
    username: guest
    password: guest
    listener:
      simple:
        acknowledge-mode: manual

server:
  compression.enabled: true
  address: 127.0.0.1

application:
  url: http://localhost:3000
  security:
    fetchUserInfo: true
  syncDelay: 10000
  
publik:
  formTypeEM: demande-de-rendez-vous
  formTypeSVE: saisine-par-voie-electronique-new
  algo: sha256
  orig: ozwillo-dcimporter
  datacore:
    project: citizenreq_0
    modelEM: citizenreq:elecmeeting_0
    modelSVE: citizenreq:sve_0
    modelORG: org:Organization_0
    modelUser: citizenreq:user_0

marchesecurise:
  url:
    createConsultation: /webserv/?module=dce|serveur_crea_dce
    updateConsultation: /webserv/?module=dce|serveur_modif_dce
    deleteConsultation: /webserv/?module=dce|serveur_suppr_dce
    publishConsultation: /webserv/?module=dce|serveur_publication_dce
    lot: /webserv/?module=dce|serveur_lot_dce
    piece: /webserv/?module=dce|serveur_fichier_dce

amqp:
  config:
      exchangerName: dcimporter
      marchesecurise:
        queueName: marchesecurise
        bindingKey: marchepublic_0.#
      maarch:
        queueName: maarch
        bindingKey: citizenreq_0.#

# TODO : Copied pasted from portal configuration, check if we really need all of them
kernel:
  base_uri: https://kernel.ozwillo-preprod.eu
  accountUri: https://accounts.ozwillo-preprod.eu
  alt_uri: ${kernel.base_uri}
  auth:
    issuer: ${kernel.base_uri}/
    auth_endpoint: ${kernel.alt_uri}/a/auth
    token_endpoint: ${kernel.base_uri}/a/token
    keys_endpoint: ${kernel.base_uri}/a/keys
    userinfo_endpoint: ${kernel.base_uri}/a/userinfo
    password_change_endpoint: ${kernel.alt_uri}/a/password
    revoke_endpoint: ${kernel.base_uri}/a/revoke
    logout_endpoint: ${kernel.alt_uri}/a/logout
    callback_uri: ${application.url}/callback
    home_uri: ${application.url}
  user_profile_endpoint: ${kernel.base_uri}/d/user
  user_membership_endpoint: ${kernel.base_uri}/d
  organization_endpoint: ${kernel.base_uri}/d/org
  event_bus_endpoint: ${kernel.base_uri}/e
  notifications_endpoint: ${kernel.base_uri}/n
  clientId: dcimporter
  clientSecret: secret
  # NB. once Datacore cache is in place, move datacore scope to its dedicated system user
  scopes_to_require: openid profile email datacore

datacore:
  containerUrl: http://data.ozwillo.com
  url: https://data.ozwillo-preprod.eu
  systemAdminUser:  # Get it using Node.js lib / with DC importer clientId
    refreshToken: refreshToken
    nonce: changeit      #Set it when getting the refreshToken
  baseUri: http://data.ozwillo.com/dc/type

